extend schema
  @link(url: "https://specs.apollo.dev/federation/v2.0",
        import: [ "@key", "@external", "@shareable", "@requires", "@provides"])

type Query {
  shippingInformation(id: ID!): Shipping
  "This field demonstrates @provides and how it overrides resolution"
  inStockCount(shippingId: ID!): InStockCount
}

type InStockCount {
  product: Product! @provides(fields: "description")
  quantity: Int!
}

type Shipping {
  id: ID
  orderPlaced: String
  description: String
  quantity: Int!
  product: Product 
}

type Product @key(fields: "id") {
  id: ID
  description: String @external
  dimensions: ProductDimensions @external
  shippingEstimate: String @requires(fields: "dimensions { size weight }")
}

type ProductDimensions @shareable {
  size: String
  weight: Float
}